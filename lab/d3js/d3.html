<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title></title>
    <style type="text/css">

    </style>
</head>
<body>
	<script src="/js/d3-2.10.3/d3.v2.min.js"></script>
	<script type="text/javascript">
        
        var matrix = [
                        [11975,  5871, 8916, 2868],
                        [ 1951, 10048, 2060, 6171],
                        [ 8010, 16145, 8090, 8045],
                        [ 1013,   990,  940, 6907]
                    ];
        
        var chord = d3.layout.chord()
                        .padding(.05)
                        .sortSubgroups(d3.descending)
                        .matrix(matrix);
        
        var width = 960,
            height = 500,
            innerRadius = Math.min(width, height) * .41,
            outerRadius = innerRadius * 1.1;
        
        var fill = d3.scale.ordinal()
                        .domain(d3.range(4))
                        .range(["#000000", "#FFDD89", "#957244", "#F26223"]);
        
        var svg = d3.select("body").append("svg")
                    .attr("width", width)
                    .attr("height", height)
                    .append("g")
                    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");
        
       svg.append("g").selectAll("path")
                        .data(chord.groups)
                        .enter().append("path")
                        .style("fill", function(d) { return fill(d.index); })
                        .style("stroke", function(d) { return fill(d.index); })
                        .attr("d", d3.svg.arc().innerRadius(innerRadius).outerRadius(outerRadius))
                        .on("mouseover", fade(.1))
                        .on("mouseout", fade(1)); 
        
        // Returns an array of tick angles and labels, given a group.
        function groupTicks(d) {
                var k = (d.endAngle - d.startAngle) / d.value;
                return d3.range(0, d.value, 1000).map(function(v, i) {
                    return {
                        angle: v * k + d.startAngle,
                        label: i % 5 ? null : v / 1000 + "k"
                    };
                });
            }

        // Returns an event handler for fading a given chord group.
        function fade(opacity) {
                return function(g, i) {
                    svg.selectAll(".chord path")
                        .filter(function(d) { return d.source.index != i && d.target.index != i; })
                        .transition()
                        .style("opacity", opacity);
                };
            }
	</script>
</body>
</html>